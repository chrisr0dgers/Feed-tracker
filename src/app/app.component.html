<div class="container">
  <div class="row pt-3">
    <div class="col-lg-7 mx-auto mb-4">
      <button class="btn btn-primary btn-lg w-100" (click)="toggleFeedForm()">
        Add Feed
      </button>
    </div>
    <div class="col-lg-7 mx-auto">
      <button
        class="btn btn-outline-secondary btn-lg w-100"
        (click)="toggleNappyForm()"
      >
        Add Nappy
      </button>
    </div>
  </div>
  <div class="row mt-4">
    <div *ngIf="lastFeedData" class="col-6 mx-auto">
      <h3>Last Feed</h3>
      <p>Time Since: {{ lastFeedData.hours }}:{{ lastFeedData.minutes }}</p>
      <p>Duration: {{ lastFeedData.duration }} mins</p>
      <p>Time: {{ lastFeedData.time }}</p>
      <p>Date: {{ lastFeedData.date | date }}</p>
    </div>
    <div *ngIf="lastNappy" class="col-6 mx-auto">
      <h3>Last Nappy</h3>
      <p>Type: {{ lastNappy.type }}</p>
      <p>Time: {{ lastNappy.time }}</p>
      <p>Date: {{ lastFeedData.date | date }}</p>
    </div>
  </div>
  <div class="row mt-3">
    <div class="col-lg-7 mx-auto">
      <ul ngbNav #nav="ngbNav" [(activeId)]="active" class="nav-tabs">
        <li [ngbNavItem]="1">
          <a ngbNavLink>Feed</a>
          <ng-template ngbNavContent>
            <table class="table table-striped">
              <thead>
                <tr>
                  <th scope="col">#</th>
                  <th scope="col">Time</th>
                  <th scope="col">Duration</th>
                  <th scope="col">Date</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let feed of feeds; let i = index">
                  <th scope="row">{{ i + 1 }}</th>
                  <td>{{ feed.time }}</td>
                  <td>{{ feed.duration }}</td>
                  <td>{{ feed.date | date }}</td>
                </tr>
              </tbody>
            </table>
          </ng-template>
        </li>
        <li [ngbNavItem]="2">
          <a ngbNavLink>Nappy</a>
          <ng-template ngbNavContent>
            <p>Nappy</p>
            <table class="table table-striped">
              <thead>
                <tr>
                  <th scope="col">#</th>
                  <th scope="col">Type</th>
                  <th scope="col">Time</th>
                  <th scope="col">Date</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let nappy of nappies; let i = index">
                  <th scope="row">{{ i + 1 }}</th>
                  <td>{{ nappy.type | titlecase }}</td>
                  <td>{{ nappy.time }}</td>
                  <td>{{ nappy.date | date }}</td>
                </tr>
              </tbody>
            </table>
          </ng-template>
        </li>
      </ul>
      <!-- Outlet for bootstrap tabs -->
      <div [ngbNavOutlet]="nav" class="mt-2"></div>
    </div>
  </div>
</div>
<app-feed-form
  (closeModal)="toggleFeedForm()"
  [visible]="feedFormVisible"
></app-feed-form>
<app-nappy-form
  (closeModal)="toggleNappyForm()"
  [visible]="nappyFormVisible"
></app-nappy-form>
